<div class="content-wrapper"  >
	<div class="content">
	<div class="box w3-card-2 w3-border w3-border-teal content" >
		<div class="box-header with-border">
			<h3 class=" w3-center">{{'results'|translate}}: {{ 'need_help' |translate }}</h3>

			<div class="box-tools pull-right">
				<button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i>
					</button>
				<button type="button" class="btn btn-box-tool" data-widget="remove"><i class="fa fa-times"></i></button>
			</div>
		</div>
		<!-- /.box-header -->
		<div class="box-body w3-padding">
			<div class="row">
				<!-- templates -->
				<div id="error"><h4>{{ErrMsg}}</h4></div>
				<table class="w3-table w3-hoverable w3-responsive w3-white" border="0">
					<thead>
					<tr class="w3-light-grey w3-border-bottom" >
						<th>ID</th>
						<th>CATEGORY</th>
						<th>ADDRESS</th>
						<th>REPORT MADE</th>
						<th  *ngIf="authService.isLoggedIn()">STREET LEADER</th>
					</tr>
					</thead>
					<tbody>
					<tr *ngFor="let drain of pagedDrains">
						<td><a (click)="helpmodal()" >{{drain.gid}}</a></td>
						<td>{{drain.need_help_category.category_name}}</td>
						<td>{{drain.user.street.street_name}}</td>
						<td>{{drain.created_at | date }}</td>
						<td  *ngIf="authService.isLoggedIn()">
							{{drain.user.first_name}} {{drain.user.last_name}}</td>
          </tr>
					</tbody>
				</table>
				<div class="w3-center">
					<ul *ngIf="pager.pages && pager.pages.length" class="pagination">
					  <li [ngClass]="{disabled:pager.currentPage === 1}">
						<a (click)="setPage(1)">First</a>
					  </li>
					  <li [ngClass]="{disabled:pager.currentPage === 1}">
						<a (click)="setPage(pager.currentPage - 1)">Previous</a>
					  </li>
					  <li *ngFor="let page of pager.pages" [ngClass]="{active:pager.currentPage === page}">
						<a (click)="setPage(page)">{{page}}</a>
					  </li>
					  <li [ngClass]="{disabled:pager.currentPage === pager.totalPages}">
						<a (click)="setPage(pager.currentPage + 1)">Next</a>
					  </li>
					  <li [ngClass]="{disabled:pager.currentPage === pager.totalPages}">
						<a (click)="setPage(pager.totalPages)">Last</a>
					  </li>
					</ul>
				</div>
		</div>
	</div>
</div>
<!-- ./box-body -->
</div>
<!-- /.box -->
</div>
