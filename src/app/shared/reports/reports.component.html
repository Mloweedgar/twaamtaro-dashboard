<div class="content-wrapper" >
  <section class="content">

          <div class="box w3-card-2 w3-border w3-border-teal" >
            <div class="box-header with-border">
              <section class="content-header">
                <h3 class=" w3-center">{{'report' | translate}} </h3>
            </section>

              <div class="box-tools pull-right">
                <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i>
                  </button>
                <button type="button" class="btn btn-box-tool" data-widget="remove"><i class="fa fa-times"></i></button>
              </div>
            </div>
            <!-- /.box-header -->
            <div class="box-body">
              <!-- Report Buttons -->
              <div *ngIf="reportBuild" class="w3-row-padding " id="reportBtns">
                <div class="w3-right">
                  <button (click)="tableReport()" class="w3-btn  w3-block w3-blue w3-section w3-padding"> View Report in a table</button>
                  <button (click)="printReport()" class="w3-btn  w3-block w3-blue w3-section w3-padding"> Print Report</button>
                </div>
              </div>
              <!-- Report Buttons -->
              <div class="w3-row-padding" >
                 
                <form id="reportForm" >
                  <label><b>{{'location' | translate }}</b></label>
                  <div class="w3-row-padding">
                    <div class="w3-col s12 m3">
                      <select class="w3-select" name="region" [(ngModel)]="region.name" required #regionControl="ngModel">
                        <option value="" disabled>{{'region'| translate}}</option>
                        <option value="dsm" selected>Dar es Salaam</option>
                      </select>
                    </div>
                    <div class="w3-col s12 m3">
                      <select class="w3-select" name="district" [(ngModel)]="district.name" required #districtControl="ngModel">
                        <option value="" disabled>{{'district' | translate}}/{{'municipal' | translate}}</option>
                        <option value="kinondoni">Kinondoni</option>
                        <option value="ilala"disabled>Ilala</option>
                        <option value="temeke" disabled>Temeke</option>
                        <option value="kigamboni" disabled>Kigamboni</option>
                        <option value="ubungo" disabled>Ubungo</option>
                      </select>
                    </div>
                    <div class="w3-col s12 m3">
                      <select class="w3-select" name="ward" [(ngModel)]="ward.name" required #wardControl="ngModel">
                        <option value="" disabled>{{'ward'| translate}}</option>
                        <option value="hananasif" selected>Hananasif</option>
                      </select>
                    </div>
                    <div class="w3-col s12 m3">
                      <select class="w3-select" name="streetname" [(ngModel)]="streetname.name" required #streetControl="ngModel">
                          <option value="" disabled selected>{{ 'street' | translate}}</option> 
                          <option value="all">All</option>
                        <option *ngFor="let street of (streets)" [value]="street.street.city_name">{{street.street.street_name}}</option>
                      </select>
                    </div>
                    <button (click)="buildReport()" class="w3-btn w3-right w3-block w3-blue w3-section w3-padding" [disabled]="streetControl.invalid">{{'send'| translate}}</button>
                  </div>
                 
                </form>
                <div id="printArea">
                <div class="w3-row" id="piecanvas">
                   <!-- Pie Chart Canvas -->
                  <div class="w3-col m6 s12">
                    <google-chart [data]="reportChart" (chartError)='error($event)'></google-chart>
                  </div>
                  <div class="w3-col m6 s12">
                    <google-chart [data]="adoptedReportChart" (chartError)='error($event)'></google-chart>
                  </div>
                 
                </div>
                <div class="w3-row" id="tablecanvas">
                   <!--Table Chart Canvas -->
                   <div class="w3-col w3-responsive">
                      <table class="w3-table-all w3-hoverable">
                          <thead>
                            <tr class="w3-dark-grey">
                              <th>Street</th>
                              <th>All Drains</th>
                              <th>Adopted</th>
                              <th>Clean Drains</th>
                              <th>Dirty Drains</th>
                              <th>Need Help</th>
                            </tr>
                          </thead>
                         
                          <tr *ngFor="let area of streets">
                              <td>area.street.street_name</td>
                              <td>N/A</td>
                              <td>area.details.adopted</td>
                              <td>area.details.cleaned</td>
                              <td>area.details.uncleaned</td>
                              <td>area.details.need_help</td>
                            </tr>
                        </table>
                  </div>
                </div>
                </div> <!-- End Print -->
              </div>
              <!-- /.row -->
            </div>
            <!-- ./box-body -->
            <div class="box-footer">
              <div class="w3-row">

              </div>
              <!-- /.row -->
            </div>
      </div>
    </section>
    <!-- /.content -->
</div>
